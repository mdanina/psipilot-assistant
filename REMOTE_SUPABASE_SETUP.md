# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ self-hosted Supabase

–ï—Å–ª–∏ –≤–∞—à Supabase –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ Beget), –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–µ–º–Ω–æ–≥–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è.

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env.local

–î–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è –æ–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `.env.local`:

```env
VITE_SUPABASE_URL=https://lulebraggalast.beget.app
VITE_SUPABASE_ANON_KEY=–≤–∞—à-anon-–∫–ª—é—á
```

**–í–∞–∂–Ω–æ:** 
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `https://` (–Ω–µ `http://`)
- –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ `/rest/v1/` –∏–ª–∏ –¥—Ä—É–≥–∏–µ –ø—É—Ç–∏ - —Ç–æ–ª—å–∫–æ –¥–æ–º–µ–Ω
- URL –¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ –¥–æ–º–µ–Ω –±–µ–∑ —Å–ª–µ—à–∞ –≤ –∫–æ–Ω—Ü–µ

## üîë –ì–¥–µ –≤–∑—è—Ç—å anon key?

–î–ª—è self-hosted Supabase –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –∫–ª—é—á –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- `.env` —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ Supabase
- `config.toml` 
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Supabase

–ò—â–∏—Ç–µ:
- `ANON_KEY`
- `SUPABASE_ANON_KEY`
- `JWT_SECRET` (–Ω–æ —ç—Ç–æ –Ω–µ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ Supabase Studio (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å):
1. –û—Ç–∫—Ä–æ–π—Ç–µ Studio (–æ–±—ã—á–Ω–æ –Ω–∞ —Ç–æ–º –∂–µ –¥–æ–º–µ–Ω–µ –∏–ª–∏ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É)
2. Settings ‚Üí API
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ "anon public" –∫–ª—é—á

### –í–∞—Ä–∏–∞–Ω—Ç 3: –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ PostgreSQL:
```sql
SELECT decrypted_secret 
FROM vault.decrypted_secrets 
WHERE name = 'anon_key';
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: –í –ª–æ–≥–∞—Ö –∑–∞–ø—É—Å–∫–∞

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞ Supabase –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ - —Ç–∞–º –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–≤–µ–¥–µ–Ω –∫–ª—é—á.

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `.env.local`:

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
   ```bash
   npm run check:connection
   ```
3. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ù–∏–∫–æ–≥–¥–∞** –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env.local` –≤ git
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ **anon** –∫–ª—é—á –≤ –∫–ª–∏–µ–Ω—Ç–µ (–Ω–µ service_role!)
- Anon –∫–ª—é—á –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ CORS

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ CORS –æ—à–∏–±–∫–∏, –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Supabase:

–í –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Supabase –¥–æ–±–∞–≤—å—Ç–µ:
```toml
[api]
cors_allowed_origins = ["http://localhost:3000", "https://–≤–∞—à-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–¥–æ–º–µ–Ω.com"]
```

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–æ–º–µ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `https://` (–Ω–µ `http://`)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Supabase –∑–∞–ø—É—â–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞




